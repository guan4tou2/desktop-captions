<!DOCTYPE html>
<html data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Overlay Control</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Poppins", sans-serif;
        overflow: hidden;
      }

      .glass-effect {
        background: rgba(15, 23, 42, 0.75);
        backdrop-filter: blur(16px) saturate(180%);
        -webkit-backdrop-filter: blur(16px) saturate(180%);
        border: 1px solid rgba(255, 255, 255, 0.125);
      }

      .form-input {
        background-color: rgba(30, 41, 59, 0.8);
        border: 1px solid #334155;
        color: #e2e8f0;
        transition: all 0.3s ease;
      }
      .form-input:focus {
        background-color: rgba(30, 41, 59, 1);
        border-color: #38bdf8;
        box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.4);
        outline: none;
      }

      .btn-primary {
        background-image: linear-gradient(to right, #38bdf8, #3b82f6);
      }
    </style>
  </head>

    <body class="text-slate-200">
    <!-- Dynamic Background -->
    <div id="vanta-bg" class="fixed top-0 left-0 w-full h-full z-0"></div>

    <!-- Main Content -->
    <main
      class="relative min-h-screen flex items-center justify-center p-4 z-10"
    >
      <div
        class="glass-effect w-full max-w-xl p-8 rounded-2xl shadow-2xl space-y-10"
      >
        <!-- Header -->
        <div class="text-center">
          <h1 class="text-3xl font-bold text-white">Overlay Setup</h1>
          <p class="text-slate-400 mt-2">Configure and launch the overlay</p>
        </div>

                <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4">
          <button
            id="start-button"
            class="w-full btn-primary text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-sky-500/50 transform hover:-translate-y-0.5 transition-all duration-300 flex items-center justify-center gap-2"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
            <span>Start Overlay</span>
          </button>
          <button
            id="stop-button"
            disabled
            class="w-full bg-slate-600 text-slate-300 font-semibold py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            </svg>
            <span>Set Overlay</span>
          </button>
          <button
            id="stop-button"
            disabled
            class="w-full bg-slate-600 text-slate-300 font-semibold py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            </svg>
            <span>Stop Overlay</span>
          </button>
        </div>

        <!-- Form -->
        <div class="space-y-6">
          <div>
            <label for="captions-input" class="text-sm font-medium text-slate-300"
              >Text</label
            >
            <input
              type="textarea"
              id="captions-input"
              class="form-input mt-2 block w-full rounded-lg px-4 py-10"
              placeholder="type your text here"
            />
          </div>
        <!-- Controls -->
          <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
            <!-- Color control -->
            <div id="colorControl" class="space-y-2">
              <label
                for="ColorInput"
                class="text-sm font-medium text-slate-300 flex items-center gap-2"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z" />
                </svg>
                Color
              </label>
              <input
                type="color"
                id="ColorInput"
                class="w-full h-10 p-1 bg-slate-800 border-slate-700 rounded-lg cursor-pointer"
              />
            </div>
            <!-- Font size control -->
            <div id="fontSizeControl" class="space-y-2">
              <label
                for="SizeInput"
                class="text-sm font-medium text-slate-300 flex items-center gap-2"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M4 7V4h16v3" />
                  <path d="M9 20h6" />
                  <path d="M12 4v16" />
                </svg>
                Font Size
              </label>
              <input
                type="number"
                id="SizeInput"
                min="{{Options['FontSize'][1]}}"
                max="{{Options['FontSize'][2]}}"
                class="w-full bg-slate-800 border-2 border-slate-700 rounded-lg p-2 text-center focus:ring-2 focus:ring-sky-400 focus:border-sky-400 transition-all duration-300"
              />
            </div>
            <!-- Opacity control -->
            <div id="opacityControl" class="space-y-2">
              <label
                for="OpacityRange"
                class="text-sm font-medium text-slate-300 flex items-center justify-between"
              >
                <span class="flex items-center gap-2">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                  Opacity
                </span>
                <span id="opacityValue" class="font-mono text-sky-400"
                  >100%</span
                >
              </label>
              <input
                type="range"
                id="OpacityRange"
                min="{{Options['Opacity'][1]}}"
                max="{{Options['Opacity'][2]}}"
                step="1"
              />
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Vanta.js and Renderer Logic -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script src="./dist/renderer.bundle.js"></script>
    <script>
      // Vanta.js Background Initialization
      VANTA.NET({
        el: "#vanta-bg",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.0,
        minWidth: 200.0,
        scale: 1.0,
        scaleMobile: 1.0,
        color: 0x3b82f6, // sky-500
        backgroundColor: 0x0f172a, // slate-900
        points: 12.0,
        maxDistance: 25.0,
        spacing: 18.0,
      });

      document.addEventListener("DOMContentLoaded", () => {
        const api = window.API;

        // DOM Elements
        const startButton = document.getElementById("start-button");
        const setButton = document.getElementById("set-button");
        const stopButton = document.getElementById("stop-button");
        const colorInput = document.getElementById("ColorInput");
        const sizeInput = document.getElementById("SizeInput");
        const opacityInput = document.getElementById("OpacityRange");
        const captionsInput = document.getElementById("captions-input");
      });
    </script>
  </body>
</html>
